<!DOCTYPE html> <html lang="de"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Raspberry Pi Geiger Counter | Gerrit Bickendorf </title> <meta name="author" content="Gerrit Bickendorf"> <meta name="description" content="Combining a Raspberry Pi with a cheap self-soldered Geiger counter"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%96&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://gbickendorf.github.io/projects/radiation/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Gerrit</span> Bickendorf </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Raspberry Pi Geiger Counter</h1> <p class="post-description">Combining a Raspberry Pi with a cheap self-soldered Geiger counter</p> </header> <article> <h2 id="introduction">Introduction</h2> <p>Radiation is a fascinating topic. Some forms are invisible, but the exposure is still unhealthy. In some region, the basement is prone to accumulating radon gas, which can be breathed in. When the atoms decay inside the lung, this raises the lung cancer risk significantly. Given this and the general fascination of measuring invisible effects I wanted to build a Geiger counter and maybe integrate it into my Raspberry Pi home server.</p> <h2 id="principle-behind-a-geiger-counter">Principle behind a Geiger Counter</h2> <p>The main component of our Geiger counter is the Geiger tube. This tube is cheap and readily available. The glass tube is filled with a mixture of gasses (often a noble and a halogen gas). Through the middle there is a thin metal wire forming the anode. The inner wall of the tube is thinly coated with a conducting metal which is connected to the cathode. Between the anode and cathode lies a potential difference of several hundreds of volts. When a particle of ionizing radiation enters the tube, it ionized the gas along its path. The voltage accelerates the free electrons towards the anode which ionizes other atoms along the way. This results in an avalanche that ionizes almost the entire gas. Once the electrons reach the anode, there is a small current. This current can be amplified and subsequently measured. When the pulse is fed into a speaker, it produces the well known “click”-sound.</p> <h2 id="open-source-circuit">Open Source Circuit</h2> <p>The diagram for the circuit that produces the high voltage, measures the current pulse and produces the sound can be found <a href="https://github.com/SensorsIot/Geiger-Counter-RadiationD-v1.1-CAJOE-/blob/master/Geiger%20Counter%20Diagram.pdf" rel="external nofollow noopener" target="_blank">online</a>. There are also shops that sell the printed circuit board with a small bag of components such as the M4011 tube, resistors, capacitors, chips and transistors for soldering yourself. This set usually cost less than 30€.</p> <p>After soldering everything, the set looks like the following image.</p> <div class="row justify-content-sm-center"> <div class="col-sm-6 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/rad-480.webp 480w,/assets/img/rad-800.webp 800w,/assets/img/rad-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/rad.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Geiger counter" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>When a battery is connected, it indeed detects one particle every 10 seconds or so. This is what is expected with the normal background radiation in Bonn.</p> <h2 id="connecting-to-the-raspberry">Connecting to the Raspberry</h2> <p>The pins, shown in the upper left corner of the image above allow to connect the Geiger counter to other devices. Two pins are power connections, while the third sends a 5V pulse when the detector triggers. My Raspberry Pi 3 Model A+ has a bunch of general <a href="https://datasheets.raspberrypi.com/rpi3/raspberry-pi-3-a-plus-reduced-schematics.pdf" rel="external nofollow noopener" target="_blank">IO pins (GPIO)</a> that allow exactly this connection. Connecting the power supply to pins 1 and 6 allows the detector to be supplied by the Raspberry Pi alone. Delivering the pulse to pin 7 let the PI read the detector response.</p> <div class="row justify-content-sm-center"> <div class="col-sm-6 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/raspi-480.webp 480w,/assets/img/raspi-800.webp 800w,/assets/img/raspi-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/raspi" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Raspi plus Geiger counter" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Using the <code class="language-plaintext highlighter-rouge">GPIO</code> module of the <code class="language-plaintext highlighter-rouge">RPi</code> python package supplies everything one needs to read the detector.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GPIO.setmode(GPIO.BCM)
GPIO.setup(4, GPIO.IN)
GPIO.add_event_detect(4,GPIO.FALLING, callback=decay)
</code></pre></div></div> <p>The first line sets the numbering scheme by which we label the pins in the python code. <code class="language-plaintext highlighter-rouge">BCM</code> means that we refer to the internal labels, rather than the physical circuit-board numbers. The internal name for pin 7 is <code class="language-plaintext highlighter-rouge">GPIO04</code>. The second line tells the Raspberry Pi to read from the pin, rather than setting the output voltage. The last line tells it to set an interrupt. When the Raspberry Pi detects a falling flank on our pin, it calls the function <code class="language-plaintext highlighter-rouge">decay</code>. In this function, we simply save the timestamp of each detected particle.</p> <p>Since the main body of the program has to simply wait for a decay, it is a forever-loop of <code class="language-plaintext highlighter-rouge">time.sleep(1)</code> because everything else is managed by the interrupt. The complete python code is as simple as the following:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import RPi.GPIO as GPIO
import time

def decay(channel):
    """Called every time the detector send a falling flank"""
    """Implement whatever you like"""

GPIO.setmode(GPIO.BCM)
GPIO.setup(4, GPIO.IN)
GPIO.add_event_detect(4,GPIO.FALLING, callback=decay)
while True:
        time.sleep(1)
</code></pre></div></div> <p>There is also a tube specific factor to roughly translate the counts per minute (CPM) to µSv/h, which is for the M4011 tube is 153.8 CPM h/µSv. Here is the plot of both CPM and the dose:</p> <div class="row justify-content-sm-center"> <div class="col-sm-6 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/fig-480.webp 480w,/assets/img/fig-800.webp 800w,/assets/img/fig-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/fig.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Converting the average dose ~0.125µSv/h to the anual dose gets us an exposure of 1.095µSv/a which puts us on the low end of the <a href="https://www.bfs.de/EN/topics/ion/environment/natural-radiation/natural-radiation.html" rel="external nofollow noopener" target="_blank">expected range</a> between 1 and 3 µSv/a. This is not too surprising, since a large part of the average natural exposure comes from radon gas. Elevated radon levels are common where granite is the bedrock, which is not the case in Bonn.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Gerrit Bickendorf. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-publications",title:"publications",description:"",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-projects",title:"projects",description:"Science and fun projects",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-repositories",title:"repositories",description:"Here you can find my public repositories.",section:"Navigation",handler:()=>{window.location.href="/repositories/"}},{id:"nav-cv",title:"cv",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"projects-learning-the-density-of-physics",title:"Learning the Density of Physics",description:"An easy introduction to resonant anomaly detection",section:"Projects",handler:()=>{window.location.href="/projects/cathode/"}},{id:"projects-from-datamining-to-a-raceplan",title:"From Datamining to a Raceplan",description:"How to become faster at rowing with Python",section:"Projects",handler:()=>{window.location.href="/projects/elfsteden/"}},{id:"projects-raspberry-pi-geiger-counter",title:"Raspberry Pi Geiger Counter",description:"Combining a Raspberry Pi with a cheap self-soldered Geiger counter",section:"Projects",handler:()=>{window.location.href="/projects/radiation/"}},{id:"projects-vision-transformers-for-particle-physics",title:"Vision Transformers for Particle Physics",description:"Using recent vision transformer improvement to see new particles",section:"Projects",handler:()=>{window.location.href="/projects/transformer/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%62%69%63%6B%65%6E%64%6F%72%66@%75%6E%69-%62%6F%6E%6E.%64%65","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=qc6CJjYAAAAJ","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/gerrit-bickendorf# your LinkedIn user name","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>